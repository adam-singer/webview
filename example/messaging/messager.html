<!DOCTYPE html>
  
<html>
  <body>
    <element name="x-messager" constructor="Messager" extends="div">
      <template>
        <style scoped>
          #content {
            height:100%;
            overflow:auto;
          }         

          #receive {
            border:1px solid #FF9900;
            height:14em;
            overflow:auto;
          }

          #send {
            padding: 3px;
            display: -webkit-flex;
            -webit-flex-direction: column;
          }

          #send button,
          #send input {
            font-size: 14px;
            line-height: 24px;
            border-radius: 2px;
            padding: 0 6px;
          }
          
          button,
          input[type="submit"],
          button[disabled]:hover {
            border: solid 1px transparent;
            background: transparent;
          }
          
          button:hover,
          input[type="submit"]:hover {
            border-color: #ccc;
            background: -webkit-linear-gradient(top, #f2f2f2 0%, #cccccc 99%);
          }
          
          #send #message-form {
            -webkit-flex: 1;
            display: -webkit-flex;
            -webit-flex-direction: column;
          }
          
          #send #center-column {
            -webkit-flex: 1;
          }
          
          #message {
            border: solid 1px #ccc;
            padding: 2px;
            width: 100%;
            -webkit-box-sizing: border-box;
          }

          table {
            width:100%;  
          }
          
          td {
            vertical-align:text-top;
          }
        </style>
        <div id="content">
          <div id="receive">
            <table>
              <tbody template iterate='message in received'>
                <tr>
                  <td>{{message[0]}}</td>
                  <td>{{message[1]}}</td>
                  <td>{{message[2]}}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div id="send">
            <form id="message-form">
              <div id="center-column">
                <input id="message" 
                       type="text" 
                       bind-value="message"
                       placeholder="type a message to send"
                       disabled="{{!hasTarget}}">
              </div>
              <input type="submit" 
                     value="Send" 
                     disabled="{{!hasTarget}}" 
                     on-click="onSubmit($event)">
            </form>
          </div>
        </div>
      </template>
      <script type="application/dart" src="messager.dart"></script>
    </element>
  </body>
</html>
